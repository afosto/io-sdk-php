<?php

declare(strict_types=1);

/*
 * This file has been auto generated by Jane,
 *
 * Do no edit it directly.
 */

namespace Afosto\Sdk;

class Sdk extends AbstractSdk
{
    protected $clientID;

    protected $clientSecret;

    protected $scopes = [];

    /**
     * Service constructor.
     *
     * @param string $clientID
     * @param string $clientSecret
     */
    public function __construct($clientID, $clientSecret, array $scopes = [])
    {
        $this->clientID = $clientID;
        $this->clientSecret = $clientSecret;
        $this->scopes = $scopes;
    }

    public function scopes(): array
    {
        return $this->scopes;
    }

    public function getToken(): \Afosto\Sdk\Model\IamTokenRequest
    {
        $token = new \Afosto\Sdk\Model\IamTokenRequest();
        $token->setClientId($this->clientID);
        $token->setClientSecret($this->clientSecret);
        $token->setGrantType('client_credentials');
        $token->setScope(implode(' ', $this->scopes()));

        return $token;
    }
}
